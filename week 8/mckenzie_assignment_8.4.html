<!--
============================================
; Title:  assignment 8.4.html
; Author: Diandra McKenzie
; Date:   29 January 2020
; Description: Demonstrates javaScript iteration over an array and the use of jQuery
;===========================================
-->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- link to my css file -->
  <link rel="stylesheet" href="C:\Users\Diandra\bu-webdev\web-231\site.css">

 
</head>
<body>
<h1>Employee Listing</h1>
<div id="emps"></div>


<script>

/*
* Params: id, firstName, lastName, title
* Response: void
* Description: sets the id, firstName, lastName and title of an object
*/

function Employee(id, firstName, lastName, title) {
  this.id = id;
  this.firstName = firstName;
  this.lastName = lastName;
  this.title = title;
}

//Create 5 new objects
  const employee = [
    new Employee('24', 'Koby', 'Bryant', 'MVP'),
    new Employee('314', 'James', 'St. Patrick', 'Owner'),
    new Employee('227', 'Thelma', 'Frye', 'Accountant'),
    new Employee('129', 'Claire', 'Huxtable', 'Lawyer'),
    new Employee('842', 'Gwendolyn', 'Jones', 'Postal Supervisor')
  ];


//jQuery alert 
 function getEmployee(id){
    for (var x = 0; x < employee.length; x++) {
       alert(employee[x].id +" "+ employee[x].firstName +" "+ employee[x].lastName + " "+ employee[x].title) 
    }    
  }; 

//builds html table
var output = `<table>
                <thead><tr>
                  <th>ID</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Title</th></tr></thead><tbody>`;
    for (var x = 0; x < employee.length; x++) {
       output += "<tr><td>" + employee[x].id + "</td><td>" + employee[x].firstName + "</td><td>" + employee[x].lastName + "</td><td>" + employee[x].title + "</td></tr>";
        
    }
   output += "</table>";

    document.getElementById('emps').innerHTML = output;

// jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {
        var employeeInfo = $(this).find('td:first').html();
        getEmployee(employeeInfo);
      })
  });

 
</script>
</body>
</html>
